# ==============================================================
# Ad-Arch Group OS — 環境変数テンプレート
#
# このファイルをコピーして .env.local を作成してください。
# 本番環境（Vercel）では、このファイルの変数を
# Vercel ダッシュボード > Settings > Environment Variables に登録してください。
#
# ⚠️  .env.local は絶対に Git にコミットしないこと
# ==============================================================

# ----------------------------------------------------------------
# Auth.js (next-auth) — JWT 署名に使用するシークレット
# 生成コマンド: openssl rand -base64 32
# Vercel では自動生成も可: https://generate-secret.vercel.app/32
# ----------------------------------------------------------------
AUTH_SECRET=your-secret-here-generate-with-openssl-rand-base64-32

# ----------------------------------------------------------------
# Google OAuth 2.0
# 取得先: Google Cloud Console > APIとサービス > 認証情報 > OAuth 2.0 クライアント
#
# 【本番用リダイレクトURIの追加が必要】
#   Google Cloud Console で以下を承認済みリダイレクト URI に追加:
#   https://your-app.vercel.app/api/auth/callback/google
# ----------------------------------------------------------------
GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-google-client-secret

# ----------------------------------------------------------------
# ドメイン制限 — この値は変更しないこと
# @adarch.co.jp 以外のアカウントはログイン拒否される
# ----------------------------------------------------------------
ALLOWED_DOMAIN=adarch.co.jp

# ----------------------------------------------------------------
# ADMIN 権限を持つメールアドレス（カンマ区切りで複数指定可）
# ----------------------------------------------------------------
ADMIN_EMAILS=hiroki.shirakawa@adarch.co.jp

# ----------------------------------------------------------------
# データベース接続文字列（2つの変数が必要）
#
# DATABASE_URL  → Prisma ランタイムクエリ用（接続プーラー経由）
# DIRECT_URL    → prisma migrate deploy 用（直接接続、Advisory Lock が必要）
#
# 【Vercel 本番環境】
#   DATABASE_URL: Session Mode Pooler を使用（IPv4 互換・必須）
#     取得: Supabase > Project Settings > Database > Connection string
#           タブ: "Session" / Port: 5432
#     形式: postgresql://postgres.PROJECT_REF:PASSWORD@aws-0-REGION.pooler.supabase.com:5432/postgres
#
#   DIRECT_URL: Direct 接続を使用（マイグレーション専用）
#     取得: 同ページ > タブ: "Direct connection" / Port: 5432
#     形式: postgresql://postgres.PROJECT_REF:PASSWORD@db.PROJECT_REF.supabase.co:5432/postgres
#
# ⚠️  NG: Transaction Mode (port 6543) — Prisma の prepared statements と非互換
# ⚠️  NG: Direct 接続を DATABASE_URL に使う — Vercel は IPv4 のみ対応、Direct は IPv6
#
# 【パスワードに特殊文字が含まれる場合】URL エンコードが必要
#   @ → %40    # → %23    $ → %24    ! → %21    % → %25
#   & → %26    + → %2B    = → %3D    / → %2F    : → %3A
#   例) パスワード: p@ss#word → p%40ss%23word
# ----------------------------------------------------------------
DATABASE_URL=postgresql://postgres.PROJECT_REF:PASSWORD@aws-0-REGION.pooler.supabase.com:5432/postgres
DIRECT_URL=postgresql://postgres.PROJECT_REF:PASSWORD@db.PROJECT_REF.supabase.co:5432/postgres

# ----------------------------------------------------------------
# アプリケーション設定
# ----------------------------------------------------------------
NEXT_PUBLIC_APP_URL=https://your-app.vercel.app
NEXT_PUBLIC_APP_NAME=Ad-Arch Group OS

# ----------------------------------------------------------------
# Supabase ストレージ（ファイルアップロード機能）
# 取得先: Supabase ダッシュボード > Settings > API
# ----------------------------------------------------------------
SUPABASE_URL=https://PROJECT_REF.supabase.co
SUPABASE_SERVICE_ROLE_KEY=your-supabase-service-role-key

# ----------------------------------------------------------------
# Resend メール通知
# 取得先: https://resend.com/api-keys
# ----------------------------------------------------------------
RESEND_API_KEY=re_your-resend-api-key
NOTIFICATION_EMAIL_TO=hiroki.shirakawa@adarch.co.jp
